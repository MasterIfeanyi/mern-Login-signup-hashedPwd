(this.webpackJsonpreact_login_mongodb=this.webpackJsonpreact_login_mongodb||[]).push([[0],{40:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),n=r(32),c=r.n(n),o=(r(40),r(0)),l=function(){return Object(o.jsx)("header",{className:"Header text-center",children:Object(o.jsx)("h1",{className:"",children:"Register-Login App MERN stack (react, node, express, MongoDB)"})})},i=r(2),j=r(11),m=r.n(j),b=r(35),d=r(13),u=r(3),O=r(10),h=r(14),p=r.n(h),g=r(9),x=Object(s.createContext)({}),f=function(e){var t=e.children,r=Object(s.useState)({nameError:"",emailError:"",passwordError:""}),a=Object(g.a)(r,2),n=a[0],c=a[1],l=Object(s.useState)({message:""}),i=Object(g.a)(l,2),j=i[0],b=i[1],u=Object(s.useState)(!1),O=Object(g.a)(u,2),h=O[0],f=O[1],v=Object(s.useState)([]),w=Object(g.a)(v,2),N=w[0],S=w[1],E=Object(s.useState)({name:"",email:"",password:""}),y=Object(g.a)(E,2),I=y[0],C=y[1],L=Object(s.useState)(!1),U=Object(g.a)(L,2),k=U[0],D=U[1],F=Object(s.useState)(!1),M=Object(g.a)(F,2),_=M[0],q=M[1],A=Object(s.useState)({name:"",email:"",password:""}),H=Object(g.a)(A,2),J=H[0],B=H[1],P=Object(s.useState)(!1),R=Object(g.a)(P,2),W=R[0],V=R[1],Y=Object(s.useState)(!1),z=Object(g.a)(Y,2),G=z[0],K=z[1],Q=Object(s.useState)({name:"",email:"",password:""}),T=Object(g.a)(Q,2),X=T[0],Z=T[1],$=Object(s.useState)({nameError:"",emailError:"",passwordError:""}),ee=Object(g.a)($,2),te=ee[0],re=ee[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(d.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/route");case 3:t=e.sent,r=t.data,S(r.users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(o.jsx)(x.Provider,{value:{error:n,setError:c,loginMessage:j,setLoginMessage:b,users:N,setUsers:S,correctLogin:h,setCorrectLogin:f,loginDetails:I,setLoginDetails:C,errorFlag:k,setErrorFlag:D,submitted:_,setSubmitted:q,signInDetails:J,setSignInDetails:B,signInSubmitted:G,setSignInSubmitted:K,signInErrorFlag:W,setSignInErrorFlag:V,signInError:te,setSignInError:re,newUser:X,setNewUser:Z},children:t})},v=x,w=function(){var e=Object(s.useContext)(v),t=e.users,r=e.setUsers,a=e.signInErrorFlag,n=e.setSignInErrorFlag,c=e.signInSubmitted,l=e.setSignInSubmitted,j=e.signInDetails,h=e.setSignInDetails,g=e.signInError,x=e.setSignInError,f=e.newUser,w=e.setNewUser,N=Object(u.f)(),S=function(){var e=Object(d.a)(m.a.mark((function e(s){var a,n,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j,e.prev=1,e.next=4,p.a.post("/api/route/save",a);case 4:n=e.sent,c=n.data,o=[].concat(Object(b.a)(t),[c.users]),r(o),localStorage.setItem("newListOfUsers",JSON.stringify(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){e.preventDefault(),console.log(j),function(){var e=j.name,t=j.email,r=j.password,s=!0;(e.trim().length<6||""===e)&&(x(Object(i.a)(Object(i.a)({},g),{},{nameError:"username must be higher than 6"})),s=!1);""===t&&(s=!1,x(Object(i.a)(Object(i.a)({},g),{},{emailError:"email cannot be empty"})));(r.trim().length<6||""===r)&&(s=!1,x(Object(i.a)(Object(i.a)({},g),{},{passwordError:"password must be higher than 6"})));return n(s),s}()&&(S(j),w(Object(i.a)(Object(i.a)({},f),{},{name:j.name})),l(!0),N.push("/welcome"),h({name:"",email:"",password:""}))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"",children:[Object(o.jsx)("h3",{className:"text-success mt-4 mb-3",children:"Sign Up"}),Object(o.jsxs)("div",{className:"container mt-5",children:[c&&a?Object(o.jsx)("div",{className:"alert alert-primary text-center",children:Object(o.jsx)("p",{children:"Submitted Successfully"})}):null,Object(o.jsxs)("form",{action:"",className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"first-name",required:!0,name:"name",placeholder:"Name",value:j.name,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{name:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.nameError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",required:!0,placeholder:"email",value:j.email,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{email:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.emailError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",required:!0,placeholder:"password",value:j.password,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{password:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.passwordError})]}),Object(o.jsx)("div",{className:"mb-3 col-md-5",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(e){return E(e)},children:"Submit"})})]})]}),Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between text-center lead",children:[Object(o.jsx)("small",{className:"me-4",children:"Already have an account ?"}),Object(o.jsx)("p",{className:"text-white",children:Object(o.jsx)(O.b,{to:"/login",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Log In"})})})]})]})})},N=function(){var e=new Date;return Object(o.jsx)("footer",{children:Object(o.jsxs)("p",{children:["Chima Ifeanyi \xa9 ",e.getFullYear()]})})},S=function(){return Object(o.jsxs)("section",{children:[Object(o.jsx)("h2",{children:"Page Not Found"}),Object(o.jsx)("p",{children:"Well, that's disappointing."}),Object(o.jsx)("p",{children:Object(o.jsx)(O.b,{to:"/",children:"Visit Our Homepage"})})]})},E=function(){var e=Object(s.useContext)(v),t=e.newUser,r=e.setNewUser;return Object(o.jsx)("section",{children:""!==t.name&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Hello"}),Object(o.jsx)("h2",{children:t.name}),Object(o.jsx)(O.b,{to:"/",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log("Logout"),r({name:"",email:""})},children:"Logout"})})]})})},y=function(){var e=Object(s.useContext)(v),t=e.submitted,r=e.setSubmitted,a=e.errorFlag,n=e.setErrorFlag,c=(e.users,e.setUsers,e.error),l=e.setError,j=e.loginMessage,b=e.setLoginMessage,h=e.correctLogin,g=e.newUser,x=e.setNewUser,f=e.setCorrectLogin,w=e.loginDetails,N=e.setLoginDetails,S=Object(u.f)(),E=function(){var e=Object(d.a)(m.a.mark((function e(){var t,r,s,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w,e.prev=1,e.next=4,p.a.post("/api/route/login",t);case 4:r=e.sent,s=r.data,(a=s.user)?(b(Object(i.a)(Object(i.a)({},j),{},{message:"Welcome"})),f(!0),x(Object(i.a)(Object(i.a)({},g),{},{name:a.name})),S.push("/welcome"),N({name:"",email:"",password:""})):(b(Object(i.a)(Object(i.a)({},j),{},{message:"did not match"})),f(!1)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),console.log("error"),b(Object(i.a)(Object(i.a)({},j),{},{message:"Check Login details"})),f(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault(),function(){var e=w.name,t=w.email,r=w.password,s=!0;(e.trim().length<6||""===e)&&(l(Object(i.a)(Object(i.a)({},c),{},{nameError:"username must be higher than 6"})),s=!1);""===t&&(s=!1,l(Object(i.a)(Object(i.a)({},c),{},{emailError:"email cannot be empty"})));(""===r||r.trim().length<6)&&(s=!1,l(Object(i.a)(Object(i.a)({},c),{},{passwordError:"password must be higher than 6"})));return n(s),s}()&&(E(),r(!0))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"",children:[Object(o.jsx)("h3",{className:"text-success mt-4 mb-3",children:"Log In"}),Object(o.jsxs)("div",{className:"container mt-2",children:[t&&!h&&Object(o.jsx)("div",{className:"alert alert-danger",children:j.message}),Object(o.jsxs)("form",{action:"",className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"first-name",name:"name",placeholder:"Name",value:w.name,onChange:function(e){return N(Object(i.a)(Object(i.a)({},w),{},{name:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:c.nameError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",placeholder:"email",value:w.email,onChange:function(e){return N(Object(i.a)(Object(i.a)({},w),{},{email:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:c.emailError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"password",value:w.password,onChange:function(e){return N(Object(i.a)(Object(i.a)({},w),{},{password:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:c.passwordError})]}),Object(o.jsx)("div",{className:"mb-3 col-md-5",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(e){return y(e)},children:"Submit"})})]})]}),Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between text-center lead",children:[Object(o.jsx)("small",{className:"me-4",children:"Do not have an account ?"}),Object(o.jsx)("p",{className:"text-white",children:Object(o.jsx)(O.b,{to:"/",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Sign Up"})})})]})]})})};var I=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(f,{children:[Object(o.jsx)(l,{}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"/",exact:!0,children:Object(o.jsx)(w,{})}),Object(o.jsx)(u.a,{path:"/login",exact:!0,children:Object(o.jsx)(y,{})}),Object(o.jsx)(u.a,{path:"/welcome",exact:!0,component:E}),Object(o.jsx)(u.a,{path:"*",component:S})]}),Object(o.jsx)(N,{})]})})};r(66);c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O.a,{children:Object(o.jsx)(u.a,{path:"/",component:I})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.108c385a.chunk.js.map